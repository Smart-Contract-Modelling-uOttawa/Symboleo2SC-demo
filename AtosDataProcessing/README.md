# Data Processing Agreement Contract
This folder contains the generated smart contract of the data processing agreement contract by the Symboleo2SC tool and the generated nuXmv Model generated by the SymboleoPC tool. 
  - Note that [Symboleo2SMVModel.md](Symboleo2SMVModel.md) file explains in detail how to transform symboleo specifications to an executable SMV model using the tool. 

### Data Processing Contract's text, specification, and nuXmv Model:
- [The text summary of the agreement between the client and the data processor company](DataProcessingContractTextSpecification.pdf).
- [The Symboleo specification of this agreement](AtosDataProcessing.symboleo).
- [nuXmv Model of the Data Processing Agreement](DataProcessingAgreement.smv)
# Contract verification and testing
 To verify the Symboleo specification of this case study:
 - First, clone this repository using the `git clone` command or download the zip archive.
## Contract Verification
To check the contract's liveness and safety properties:
- Install [nuXmv](https://nuxmv.fbk.eu/download.html) 
- Copy [nuXmv Model of the Data Processing Agreement](DataProcessingAgreement.smv) and past it into the bin directory of the installed nuXmv directory
- In the command Prompt:
- ```
  c:> cd C:\nuXmv-2.0.0-win64\bin
  C:\nuXmv-2.0.0-win64\bin > nuxmv.exe -int C:\nuXmv-2.0.0-win64\bin\DataProcessingAgreement.smv
  C:\nuXmv-2.0.0-win64\bin >go_msat
  > check_ltlspec_ic3 -i
  > quit
  ```
## Smart Contract Testing
To test the generated smart contract using several scenarios illustrated in [DataProcessingAgreement.test.js](DataProcessingAgreement.test.js) :
- Install visual studio code.
- Open the downloaded folder for this case study from the main menu of the tool. 
- Then, install dependencies.
```shell
cd Symboleo2SC-demo
npm install
```
- To test the generated smart contracts run the below commands:
```shell
npm test DataProcessingAgreement.test.js

```

